(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{18:function(e,n,t){e.exports=t(41)},23:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(16),o=t.n(r),u=(t(23),t(6)),i=t(2),l=function(e){var n=e.searchString,t=e.handleSearch;return c.a.createElement("div",null,"Search: ",c.a.createElement("input",{value:n,onChange:t}))},d=function(e){return c.a.createElement("form",{onSubmit:e.addNewData},c.a.createElement("div",null,"Name: ",c.a.createElement("input",{value:e.newName,onChange:e.handleNameChange}),c.a.createElement("br",null),"Number: ",c.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"Add")))},m=t(17),s=function(e){return(e.searchState?e.persons.filter((function(n){return n.name.toLowerCase().includes(e.searchString.toLowerCase())})):Object(m.a)(e.persons)).map((function(n){return c.a.createElement("div",{key:n.name,id:n.id},n.name," : ",n.phone," ",c.a.createElement("button",{onClick:function(){return e.deleteContact(n.id)}},"Delete"))}))},f=t(4),h=t.n(f),b="/api/persons",p=function(e){return h.a.post(b,e)},E=function(e){return h.a.delete("".concat(b,"/").concat(e))},v=function(){return h.a.get(b)},g=function(e,n){return h.a.put("".concat(b,"/").concat(e),n)},w=function(e){var n=e.message;return null===n?null:n[1]?c.a.createElement("div",{className:"good"},n):c.a.createElement("div",{className:"error"},n)},j=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)(""),m=Object(i.a)(o,2),f=m[0],h=m[1],b=Object(a.useState)(""),j=Object(i.a)(b,2),O=j[0],S=j[1],N=Object(a.useState)(""),C=Object(i.a)(N,2),k=C[0],D=C[1],y=Object(a.useState)(!1),L=Object(i.a)(y,2),A=L[0],x=L[1],J=Object(a.useState)(null),B=Object(i.a)(J,2),I=B[0],P=B[1];Object(a.useEffect)((function(){v().then((function(e){r(e.data)}))}),[]);var T=function(e,n){P([e,n]),setTimeout((function(){P(null)}),5e3)},U=function(){return t.find((function(e){return e.name.toLowerCase()===f.toLowerCase()}))};return c.a.createElement("div",null,c.a.createElement("h2",null,"Phonebook"),c.a.createElement(w,{message:I}),c.a.createElement(l,{searchString:k,handleSearch:function(e){e.target.value.trim().length>0?x(!0):x(!1),D(e.target.value)}}),c.a.createElement("h3",null,"Add new data"),c.a.createElement(d,{addNewData:function(e){e.preventDefault();var n=U();if(n){if(window.confirm("".concat(f," exists in the phonebook, replace the old number with a new one?"))){var a=Object(u.a)(Object(u.a)({},n),{},{phone:O});g(a.id,a).then((function(e){r(t.map((function(n){return n.id!==a.id?n:e.data}))),T("Updated number for ".concat(n.name),!0)})).catch((function(e){T(e.response.data,!1)}))}}else p({name:f,phone:O}).then((function(e){r(t.concat(e.data)),T("Added ".concat(f),!0)})).catch((function(e){console.log(e),T(e.response.data,!1)}));h(""),S("")},newName:f,newNumber:O,handleNameChange:function(e){h(e.target.value)},handleNumberChange:function(e){S(e.target.value)}}),c.a.createElement("h2",null,"Numbers"),c.a.createElement(s,{searchState:A,persons:t,searchString:k,deleteContact:function(e){var n=t.find((function(n){return e===n.id}));window.confirm("Delete ".concat(n.name,"?"))&&E(e).then((function(){r(t.filter((function(e){return e.id!==n.id}))),T("Deleted ".concat(n.name),!0)})).catch((function(){r(t.filter((function(e){return e.id!==n.id}))),T("".concat(n.name," has already been deleted!"),!1)}))}}))};o.a.render(c.a.createElement(j,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.096762a3.chunk.js.map